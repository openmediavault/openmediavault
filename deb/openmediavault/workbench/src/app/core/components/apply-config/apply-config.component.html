<mat-toolbar *ngIf="dirtyModules | count"
             matRipple
             [matRippleTrigger]="content">
  <div class="omv-my-h"
       fxFlex
       fxLayout="row">
    <mat-icon class="icon omv-icon-lg"
              svgIcon="{{ icon.information }}">
    </mat-icon>
    <div #content
         class="content omv-mx-h omv-cursor-pointer"
         fxFlex
         fxLayout="column"
         fxLayoutAlign="center start"
         (click)="expanded = !expanded">
      {{ 'Pending configuration changes. You must apply these changes in order for them to take effect.' | translate }}
      <div class="details"
           [ngClass]="{'omv-display-none': !expanded}">
        <div class="omv-mt-h">{{ 'The following modules will be updated:' | translate }}</div>
        <ul>
          <li *ngFor="let module of dirtyModules | keyvalue"
              matTooltip="{{ module.value | translate }}">
            {{ module.key }}
          </li>
        </ul>
      </div>
    </div>
    <div class="actions">
      <button mat-icon-button
              matTooltip="{{ 'Show details' | translate }}"
              (click)="expanded = !expanded">
        <mat-icon svgIcon="{{ icon.details }}"></mat-icon>
      </button>
      <button mat-icon-button
              matTooltip="{{ 'Undo' | translate }}"
              (click)="onUndoPendingChanges()">
        <mat-icon svgIcon="{{ icon.undo }}"></mat-icon>
      </button>
      <button mat-icon-button
              matTooltip="{{ 'Apply' | translate }}"
              (click)="onApplyPendingChanges()">
        <mat-icon svgIcon="{{ icon.check }}"></mat-icon>
      </button>
    </div>
  </div>
</mat-toolbar>
